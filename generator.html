<!DOCTYPE html>
<html>
<!-- служебная часть -->

<head>
  <!-- заголовок страницы -->
  <title>Генератор паролей</title>
  <!-- настраиваем служебную информацию для браузеров, можно пока не вникать -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- подключаем функцию, которая хеширует строку -->
  <script src="https://cdn.jsdelivr.net/npm/js-md5@0.7.3/src/md5.min.js"></script>


  <style type="text/css">
body {
  text-align: center;
  margin: 10;
  font-family: Verdana, Arial, sans-serif;
  font-size: 16px;
}

input {
  display: inline-block;
  margin: 10px auto;
  border: 2px solid #032149;
  padding: 10px 20px;
  font-family: Verdana, Arial, sans-serif;
  font-size: 14px;
}

  </style>

</head>


<body>
   <div class="container" style="margin: auto">
        <h2 class="title">Генератор паролей через хеш-таблицу</h2>
        <br>
        <h4>Вставте в поле ссылку, и генератор зашифрует её через алгоритм хеширования.</h4>
        <input id="website" type="text" placeholder="Вставьте адрес сайта, где вам нужен пароль" size="50">
        <br>
        <!-- <h4>опционально. впишите уникальное слово ассоциирующееся с чем-то, кем-то или сайтом для которого нужен пароль.</h4> -->
        <input type="text" id="word" size="50" placeholder="Напишите кодовое слово, чтобы сделать пароль сильнее">

        <br>
        <!-- <h4>опционально. впишите фразу что бы усилить пароль от ссылки+слова.</h4> -->
        <input type="text" id="phrase" size="50" placeholder="Напишите фразу, чтобы сделать пароль ещё сильнее">
        <br>
        <input id="slice" type="checkbox"> Добавить разделители и обрезать до 9 символов.
        <br>
        <input id="spec" type="checkbox"> Добавить три спецсимвола.
        <br>
        <button style="font-size: 100%; padding:5px 10px 10px 10px" onclick="generate()">Создать пароль</button>

        <p>Ваш пароль:</p> <div id="pass" style="font-weight: bold"></div>
    </div>




  <script>

function getRandomInt(min, max) {
  min = Math.ceil(min);
  max = Math.floor(max);
  return Math.floor(Math.random() * (max - min)) + min; //Максимум не включается, минимум включается
}

let site, salt, phrase;
let text, password;

let speacialSymbols = [ '$', '%', '&', "*", '№'];
function getThreeSymbol() {
  let strSymbol =
   speacialSymbols[`${getRandomInt(1, 5)}`] + speacialSymbols[`${getRandomInt(1, 5)}`] + speacialSymbols[`${getRandomInt(1, 5)}`];
   return strSymbol;
}


function generate() {
  site = document.getElementById('website'),
  salt = document.getElementById('text'),
  phrase = document.getElementById('phrase'),
  slicePass = document.getElementById('slice');
  symbol = document.getElementById('spec');

  text = text + salt + phrase;



  password = md5(text);

  if (slicePass.checked) {
  let str = password.match(/.{1,3}/g).join('-').slice(0, 11);
  document.getElementById('pass').innerHTML = str;
  // console.log(arr);
} else if (symbol.checked ) { 
  let str = password.match(/.{1,3}/g).join('-').slice(0, 8);
  document.getElementById('pass').innerHTML = str + getThreeSymbol();
} else {
  document.getElementById('pass').innerHTML = password;
}


}
  </script>



</body>
</html>